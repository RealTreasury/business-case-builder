!function(e,n){if(!e||!e.element)return;const{createElement:t,useState:r,useContext:s,createContext:i,useEffect:o,Fragment:l,Children:c}=e.element,d=i();function u({children:e}){const[s,i]=r(!1),[l,c]=r(1),u=()=>{c(1),i(!0)},a=()=>i(!1);n.closeBusinessCaseModal=a,o(()=>{if("/rtbcb"===n.location.pathname)return c(1),void i(!0);if(new URLSearchParams(n.location.search).get("rtbcb_wizard"))return c(1),void i(!0);const e=e=>{const t=e.target.closest("#rtbcb-open-btn");if(!t)return;e.ctrlKey||e.metaKey||t.rel&&t.rel.includes("noopener")||(e.preventDefault(),document.getElementById("rtbcbModalOverlay")?u():n.location.href=t.href||n.location.href)},t=document.getElementById("rtbcb-close-btn");return document.addEventListener("click",e),t&&t.addEventListener("click",a),()=>{document.removeEventListener("click",e),t&&t.removeEventListener("click",a)}},[]),o(()=>{const e=document.getElementById("rtbcbModalOverlay");e&&(s?(e.classList.add("active"),document.body.style.overflow="hidden",n.businessCaseBuilder&&"function"==typeof n.businessCaseBuilder.reinitialize&&n.businessCaseBuilder.reinitialize()):(e.classList.remove("active"),document.body.style.overflow="",n.businessCaseBuilder&&"function"==typeof n.businessCaseBuilder.cancelPolling&&n.businessCaseBuilder.cancelPolling()))},[s]),o(()=>{const e=e=>{"Escape"===e.key&&s&&a()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[s]);const m={currentStep:l,setCurrentStep:c,isOpen:s,open:u,close:a};return t(d.Provider,{value:m},e)}function a(){return s(d)}function m(){const r=document.getElementById("rtbcbModalOverlay");if(!r||!e.element||!e.element.render)return;const s=r.innerHTML;e.element.render(t(u,null,t("div",{dangerouslySetInnerHTML:{__html:s}})),r),n.businessCaseBuilder&&(n.businessCaseBuilder.form=document.getElementById("rtbcbForm"),n.businessCaseBuilder.overlay=document.getElementById("rtbcbModalOverlay"),n.businessCaseBuilder.cacheElements(),n.businessCaseBuilder.bindEvents(),n.businessCaseBuilder.initializePath())}n.RTBCBWizardReact={WizardProvider:u,useWizard:a,Steps:function({children:e}){const{currentStep:n}=a();return t(l,null,c.map(e,(e,t)=>t+1===n?e:null))}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",m):m()}(window.wp||{},window);