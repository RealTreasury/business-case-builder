!function(e,n){if(!e||!e.element)return;const{createElement:t,useState:r,useContext:s,createContext:i,useEffect:l,Fragment:c,Children:o}=e.element,d=i();function a({children:e}){const[s,i]=r(!1),[c,o]=r(1),a=()=>i(!1);n.closeBusinessCaseModal=a,l(()=>{const e=n.location.pathname;if("/rtbcb"===e||"/rtbcb/"===e)return o(1),void i(!0);if(new URLSearchParams(n.location.search).get("rtbcb_wizard"))return o(1),void i(!0);const t=document.getElementById("rtbcb-open-btn"),r=e=>{e.preventDefault();const t=new URL(n.location.href);t.searchParams.set("rtbcb_wizard","1"),n.open(t.toString(),"_blank")},s=document.getElementById("rtbcb-close-btn");return t&&t.addEventListener("click",r),s&&s.addEventListener("click",a),()=>{t&&t.removeEventListener("click",r),s&&s.removeEventListener("click",a)}},[]),l(()=>{const e=document.getElementById("rtbcbModalOverlay");e&&(s?(e.classList.add("active"),document.body.style.overflow="hidden",n.businessCaseBuilder&&"function"==typeof n.businessCaseBuilder.reinitialize&&n.businessCaseBuilder.reinitialize()):(e.classList.remove("active"),document.body.style.overflow="",n.businessCaseBuilder&&"function"==typeof n.businessCaseBuilder.cancelPolling&&n.businessCaseBuilder.cancelPolling()))},[s]);const u={currentStep:c,setCurrentStep:o,isOpen:s,open:()=>{o(1),i(!0)},close:a};return t(d.Provider,{value:u},e)}function u(){return s(d)}function b(){const r=document.getElementById("rtbcbModalOverlay");if(!r||!e.element||!e.element.render)return;const s=r.innerHTML;e.element.render(t(a,null,t("div",{dangerouslySetInnerHTML:{__html:s}})),r),n.businessCaseBuilder&&(n.businessCaseBuilder.form=document.getElementById("rtbcbForm"),n.businessCaseBuilder.overlay=document.getElementById("rtbcbModalOverlay"),n.businessCaseBuilder.cacheElements(),n.businessCaseBuilder.bindEvents())}n.RTBCBWizardReact={WizardProvider:a,useWizard:u,Steps:function({children:e}){const{currentStep:n}=u();return t(c,null,o.map(e,(e,t)=>t+1===n?e:null))}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",b):b()}(window.wp||{},window);
