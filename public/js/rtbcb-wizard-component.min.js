!function(e,t){if(!e||!e.element){if(!t.React||!t.ReactDOM)return;(e=t.wp||{}).element={createElement:t.React.createElement,useState:t.React.useState,useContext:t.React.useContext,createContext:t.React.createContext,useEffect:t.React.useEffect,Fragment:t.React.Fragment,Children:t.React.Children,render:t.ReactDOM.render},t.wp=e}const{createElement:n,useState:r,useContext:s,createContext:c,useEffect:i,Fragment:a,Children:o}=e.element,l=c();function d({children:e}){const[s,c]=r(!1),[a,o]=r(1),d=()=>{o(1),c(!0)},u=()=>c(!1);t.closeBusinessCaseModal=u,i(()=>{if(t.location.pathname.replace(/\/$/,"").endsWith("/rtbcb"))return o(1),void c(!0);if(new URLSearchParams(t.location.search).get("rtbcb_wizard"))return o(1),void c(!0);const e=e=>{const n=e.target.closest("#rtbcb-open-btn");if(!n)return;e.ctrlKey||e.metaKey||n.rel&&n.rel.includes("noopener")||(e.preventDefault(),document.getElementById("rtbcbModalOverlay")?d():t.location.href=n.href||t.location.href)},n=document.getElementById("rtbcb-close-btn");return document.addEventListener("click",e),n&&n.addEventListener("click",u),()=>{document.removeEventListener("click",e),n&&n.removeEventListener("click",u)}},[]),i(()=>{const e=document.getElementById("rtbcbModalOverlay");e&&(s?(e.classList.add("active"),document.body.style.overflow="hidden",t.businessCaseBuilder&&"function"==typeof t.businessCaseBuilder.reinitialize&&t.businessCaseBuilder.reinitialize()):(e.classList.remove("active"),document.body.style.overflow="",t.businessCaseBuilder&&"function"==typeof t.businessCaseBuilder.cancelPolling&&t.businessCaseBuilder.cancelPolling()))},[s]),i(()=>{const e=e=>{"Escape"===e.key&&s&&u()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[s]);const m={currentStep:a,setCurrentStep:o,isOpen:s,open:d,close:u};return n(l.Provider,{value:m},e)}function u(){return s(l)}function m(){const r=document.getElementById("rtbcbModalOverlay");if(!r||!e.element||!e.element.render)return;const s=r.innerHTML;e.element.render(n(d,null,n("div",{dangerouslySetInnerHTML:{__html:s}})),r),t.businessCaseBuilder&&(t.businessCaseBuilder.form=document.getElementById("rtbcbForm"),t.businessCaseBuilder.overlay=document.getElementById("rtbcbModalOverlay"),t.businessCaseBuilder.cacheElements(),t.businessCaseBuilder.bindEvents(),t.businessCaseBuilder.initializePath())}t.RTBCBWizardReact={WizardProvider:d,useWizard:u,Steps:function({children:e}){const{currentStep:t}=u();return n(a,null,o.map(e,(e,n)=>n+1===t?e:null))}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",m):m()}(window.wp||{},window);