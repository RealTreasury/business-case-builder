!function(e){"use strict";e(function(){const n=e("#rtbcb-generate-company-overview"),o=e("#rtbcb-company-overview-results"),t=e("#rtbcb-company-overview-card"),a=e("#rtbcb-company-overview-meta");function r(e){o.html('<div class="error-message" style="color: red; padding: 10px; border: 1px solid red;">'+e+"</div>")}e("#rtbcb-regenerate-company-overview").on("click",function(){n.trigger("click")}),e("#rtbcb-copy-company-overview").on("click",function(){var e=o.text();navigator.clipboard&&navigator.clipboard.writeText(e)}),n.on("click",function(s){s.preventDefault();var c=e("#rtbcb-company-name"),i="";if(c.length&&"function"==typeof c.val){var l=c.val();i=l?l.trim():""}i?function(s){console.log("Starting simple company overview request"),e.ajax({url:ajaxurl,method:"POST",timeout:rtbcb_ajax.timeout,data:{action:"rtbcb_company_overview_simple",company_name:s,nonce:rtbcb_ajax.nonce},beforeSend:function(){n.prop("disabled",!0).text("Testing Connection...")},success:function(e){console.log("AJAX Success:",e),e.success?function(e){let n="";n+="<p><strong>Status:</strong> "+e.status+"</p>",n+="<p><strong>Message:</strong> "+e.message+"</p>",e.simple_analysis&&(n+="<h4>Sample Analysis:</h4>",n+="<p>"+e.simple_analysis.analysis+"</p>",e.simple_analysis.recommendations&&(n+="<h4>Sample Recommendations:</h4><ul>",e.simple_analysis.recommendations.forEach(function(e){n+="<li>"+e+"</li>"}),n+="</ul>"),e.simple_analysis.references&&a.html("<p><strong>Sources:</strong> "+e.simple_analysis.references.join(", ")+"</p>")),o.html(n),t.show()}(e.data):r("Request failed: "+e.data.message)},error:function(e,n,o){console.log("AJAX Error:",n,o),r("Connection failed: "+n+" - "+o)},complete:function(){n.prop("disabled",!1).text("Generate Overview")}})}(i):alert("Please enter a company name.")})})}(jQuery);